<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Organization and Structure of Applications | LFMUNOZ</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Organization and Structure of Applications" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In programming there is a guideline that says" />
<meta property="og:description" content="In programming there is a guideline that says" />
<link rel="canonical" href="lfmunoz.github.io/documents/2020/08/01/organization-and-structure.html" />
<meta property="og:url" content="lfmunoz.github.io/documents/2020/08/01/organization-and-structure.html" />
<meta property="og:site_name" content="LFMUNOZ" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-01T00:00:00+00:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Organization and Structure of Applications","dateModified":"2020-08-01T00:00:00+00:00","datePublished":"2020-08-01T00:00:00+00:00","url":"lfmunoz.github.io/documents/2020/08/01/organization-and-structure.html","mainEntityOfPage":{"@type":"WebPage","@id":"lfmunoz.github.io/documents/2020/08/01/organization-and-structure.html"},"description":"In programming there is a guideline that says","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/documents/assets/main.css"><link type="application/atom+xml" rel="alternate" href="lfmunoz.github.io/documents/feed.xml" title="LFMUNOZ" /></head>
<body><header class="site-header" role="banner">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2YJDWQX6GK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-2YJDWQX6GK');
  </script>

  <div class="wrapper"><a class="site-title" rel="author" href="/documents/">LFMUNOZ</a><nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
      <label for="nav-trigger">
        <span class="menu-icon">
          <svg viewBox="0 0 18 15" width="18px" height="15px">
            <path
              d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z" />
          </svg>
        </span>
      </label>

      <div class="trigger"><a class="page-link" href="/documents/about/">About</a></div>
    </nav></div>
</header><div class="main"><div class="column-sidebar">

    <div class="nav-section">
        <div class="nav-title">Posts</div><div class="post-container"><a class="post-link" href="/documents/2020/12/17/i-wish-i-was-worse.html"> I wish I was worse at dancing</a>
            <span class="post-meta">Dec 17, 2020</span>
        </div><div class="post-container"><a class="post-link" href="/documents/2020/12/13/too-many-options.html"> Too many options slows production</a>
            <span class="post-meta">Dec 13, 2020</span>
        </div><div class="post-container"><a class="post-link" href="/documents/2020/12/06/dream-cats-and-dogs.html"> A dream of dogs and cats</a>
            <span class="post-meta">Dec 6, 2020</span>
        </div><div class="post-container"><a class="post-link" href="/documents/2020/11/27/http-rest-bad-design.html"> RESTful HTTP creates coupling</a>
            <span class="post-meta">Nov 27, 2020</span>
        </div><div class="post-container"><a class="post-link" href="/documents/2020/08/01/organization-and-structure.html"> Organization and Structure of Applications</a>
            <span class="post-meta">Aug 1, 2020</span>
        </div><div class="post-container"><a class="post-link" href="/documents/2020/07/12/listening-to-music.html"> Listening to Music</a>
            <span class="post-meta">Jul 12, 2020</span>
        </div><div class="post-container"><a class="post-link" href="/documents/2020/07/05/frameworks.html"> Frameworks and Libraries</a>
            <span class="post-meta">Jul 5, 2020</span>
        </div><p class="rss-subscribe">subscribe <a href="/documents/feed.xml">via RSS</a></p>
    </div>

    <div class="nav-section">
        <div class="nav-title">Guides</div>
        <ul>
            
            <li>
                <strong> Computer Science</strong>
                <ul>
                    
                    <li><a href="/documents/books/Algorithms/Introduction.html">Algorithms</a></li>
                    
                    <li><a href="/documents/articles/SoftwareEngineering.html">Software Engineering</a></li>
                    
                    <li><a href="/documents/books/DesignPatterns.html">Design Patterns</a></li>
                    
                    <li><a href="/documents/books/Linux/Introduction.html">Linux</a></li>
                    
                    <li><a href="/documents/books/Databases/Introduction.html">Databases</a></li>
                    
                    <li><a href="/documents/books/SoftwareEngineering/Concurrency.html">Concurrency</a></li>
                    
                    <li><a href="/documents/books/Security/Introduction.html">Security</a></li>
                    
                </ul>
            </li>

            
            <li>
                <strong> Programming Languages</strong>
                <ul>
                    
                    <li><a href="/documents/books/C/Introduction.html">C</a></li>
                    
                    <li><a href="/documents/books/Cpp/Introduction.html">C++</a></li>
                    
                    <li><a href="/documents/books/Rust/Introduction.html">Rust</a></li>
                    
                    <li><a href="/documents/books/Go/Introduction.html">Go</a></li>
                    
                    <li><a href="/documents/books/Java/Introduction.html">Java</a></li>
                    
                    <li><a href="/documents/books/Kotlin/Introduction.html">Kotlin</a></li>
                    
                    <li><a href="/documents/lang/Python/Introduction.html">Python</a></li>
                    
                    <li><a href="/documents/lang/Bash/Introduction.html">Bash</a></li>
                    
                    <li><a href="/documents/books/Make/Introduction.html">Makefile</a></li>
                    
                    <li><a href="/documents/lang/SQL/Introduction.html">SQL</a></li>
                    
                    <li><a href="/documents/lang/HTML/Introduction.html">HTML</a></li>
                    
                </ul>
            </li>

            
            <li>
                <strong> Technologies</strong>
                <ul>
                    
                    <li><a href="/documents/tech/Android/Introduction.html">Android</a></li>
                    
                    <li><a href="/documents/books/Docker/Introduction.html">Docker</a></li>
                    
                    <li><a href="/documents/books/Envoy/Introduction.html">Envoy</a></li>
                    
                    <li><a href="/documents/books/Terraform/Introduction.html">Terraform</a></li>
                    
                </ul>
            </li>

            
            <li>
                <strong> Mathematics</strong>
                <ul>
                    
                    <li><a href="/documents/mathematics/Foundations.html">Foundations</a></li>
                    
                    <li><a href="/documents/books/Logic/Introduction.html">Logic</a></li>
                    
                    <li><a href="/documents/books/SetTheory/Introduction.html">Set Theory</a></li>
                    
                    <li><a href="/documents/books/Geometry/Introduction.html">Geometry</a></li>
                    
                    <li><a href="/documents/books/Analysis/Introduction.html">Analysis</a></li>
                    
                </ul>
            </li>

            
            <li>
                <strong> Miscellaneous</strong>
                <ul>
                    
                    <li><a href="/documents/books/Non-Duality/Introduction.html">Non-Duality</a></li>
                    
                </ul>
            </li>

            
        </ul>
    </div>


</div><div class="column-main">
            <main class="page-content" aria-label="Content">
                <div class="wrapper">
                    <article class="post">

  <header class="post-header">
    <h1 class="post-title">Organization and Structure of Applications</h1>
  </header>

  <div class="post-content">
    <p>In programming there is a guideline that says</p>

<blockquote>
  <p>Group together items that are likely to change together</p>
</blockquote>

<p>Yet most software systems simply ignores this and lure us into having a structure organized by category. If you look at the filesystem of the Linux Operating System you see the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc
/var/log
/bin  
/usr 
/lib 
/home/luis
/root
/dev 
</code></pre></div></div>
<p>Here you have <em>/var/log</em> whose purpose is to hold the logs of every application on the system. It would be better if it was</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>app/http/config
app/http/logs
app/home/root
app/home/luis
system/bin
system/lib
</code></pre></div></div>

<p>The problem being that an application is spread out. Ideally if I was going to remove an application I should be able to remove a single directory. Also if I am working with an application I shouldn’t have to navigate across the entire filesystem to modify the configuration and then go look at the logs. Microsoft Windows almost got it right, they have a folder called Program Files:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Program Files/Steam
Program Files/Visual Basic
</code></pre></div></div>

<p>If I delete  <em>Program Files/Steam</em> most of the application will be gone. Unfortunately there are shared library files that might remain, a System Registry that holds information about an application even after it has been uninstalled and Menu shortcuts.  These are artifacts of poor design, there is no reason the system couldn’t keep track of all application information within one folder.</p>

<p>These days if feels wrong to install an application on my Linux Desktop. I feel like it will pollute it. If there
is a docker image I rather run that. Docker keeps applications contained and organized. If I want to remove
an application I can simply remove the image. If you use the package manager the chances that your system will returns to the exact state after uninstalling  an application is near zero.</p>

<p>When I was studying government in High School, we were learning how laws get passed I thought it was strange that each year new laws get passed because how can that be sustaintable? If each year there are more regulations, more laws to comply with, wouldn’t there be a point where the complexity is just too large and the whole system would collapse?</p>

<p>I mention this because this is how systems are today, each time you install a program if the system cannot guanratee it will completely remove an application without pollution then the system is not sustainable.  I find myself having to completely reinstall my Operating System everything 1-3 years in part because of pollution.</p>

<p>Android, interestingly, has a per-app subdirectory simply out of necessity of how its security works. Each application can only write to one folder, this is good for security but also makes it so all the data for an application can easily be removed.</p>

<p>Next, looking at a typtical Java application structure you will often see:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/repository/UserRepository.java
/repository/BookRepository.java
/service/UserService.java
/service/BookService.java
/config/BookConfig.java
/config/UserConfig.java
/domain/UserEntity.java
/domain/BookEntity.java
/web/userApi.java
/web/BookApi.java
</code></pre></div></div>
<p>For example  <a href="https://www.jhipster.tech/">Jhipster</a> follows this.  That layout comes from a misapplication of the popular book <em>Domain-Driven Design</em> by Eric Evans it says: “Partition a complex program into LAYERS. Develop a design within each LAYER that is cohesive and that depends only on the layers below.”  Then it describes two common layers:</p>

<p><em>Repository:</em>  The purpose of which is to encapsulate all the logic needed to obtain object references.  Repository acts as a storage place for globally accessible objects.</p>

<p><em>Services:</em> There are some actions in the domain, some verbs, which do not seem to belong to any object. Adding such behavior to an object would spoil the object, making it stand for functionality which does not belong to it. When such a behavior is recognized in the domain, the best practice is to declare it as a Service.</p>

<p>None of this indicates you should layout the application with a folder per layer, yet that is what you see in many applications. In my experience this is not efficient. It would better if the layout was:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>components/user/UserRepository.java
components/user/UserService.java
components/user/UserApi.java
components/book/BookRepository.java
components/book/BookService.java
components/book/BookApi.java
</code></pre></div></div>

<p>If I change the repository from <em>PostgresQL</em> to <em>MySQL</em> it is unlikely I will change <em>BookRepository</em> because 
that code communicates through an interface that won’t change even if the database changes. If I am making changes to Book it is likely that <em>BookService</em>, <em>BookRepository</em> and <em>BookApi</em> will have to change. It doesn’t make sense to spread out the code for Book.</p>

<p>In front-end applications we are starting to see a component folder. A component will include CSS, HTML, and JavaScript in a single file.  This is closer to how I layout my applications.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> # Default Vue.js Layout
  src
├── App.vue
├── assets
│   └── logo.png
├── components
│   └── HelloWorld.vue
└── main.js
</code></pre></div></div>

<p>Front-end technology moves faster than back-end so I see this as an indication that these developers are understanding the benefits of keeping similiar code together.  I hope to see more back-end code following the principle because it is easier to read and work with. You often can tell a layout is problematic by how many files you have to open to implement a feature or fix. Also by how difficult it is to find sections of code after you haven’t worked on them for a while.</p>


  </div>

</article>
                </div>
            </main>
        </div></div><footer class="site-footer h-card">
  <data class="u-url" href="/documents/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">LFMUNOZ</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">LFMUNOZ</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/lfmunoz"><svg class="svg-icon"><use xlink:href="/documents/assets/minima-social-icons.svg#github"></use></svg> <span class="username">lfmunoz</span></a></li><li><a href="https://www.twitter.com/lfmunoz4"><svg class="svg-icon"><use xlink:href="/documents/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">lfmunoz4</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>articles, notes, and references</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>